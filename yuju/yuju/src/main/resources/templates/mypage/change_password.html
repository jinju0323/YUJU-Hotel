<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
  <head>
    <!-- ✅ 공통 HEAD 영역 (메타태그, CSS, JS 파일 포함) -->
    <th:block
      th:replace="~{fragments/head :: common-head('마이페이지 - 비밀번호 변경')}"
    />
    <th:block th:replace="~{/fragments/header :: common-header}" />

    <!-- ✅ 비밀번호 변경 페이지 전용 CSS -->
    <link
      rel="stylesheet"
      th:href="@{/assets/css/mypage/change_password.css}"
    />
  </head>
  <body>
    <div class="mypageWrapper">
      <div class="mypageContainer">
        <!-- ✅ 마이페이지 사이드바 -->
        <aside class="sidebar">
          <h2>마이페이지</h2>
          <ul>
            <li>
              <a th:href="@{/mypage/reservation_list}" class="sidebarLink"
                >예약 내역</a
              >
            </li>
            <li class="active">
              <a th:href="@{/mypage/change_password}" class="sidebarLink"
                >비밀번호 변경</a
              >
            </li>
            <li>
              <a th:href="@{/mypage/delete_account}" class="sidebarLink"
                >회원 탈퇴</a
              >
            </li>
          </ul>
        </aside>

        <!-- ✅ 비밀번호 변경 폼 영역 -->
        <main class="content">
          <h2>비밀번호 변경</h2>

          <form
            id="passwordChangeForm"
            th:action="@{/api/mypage/change}"
            method="post"
          >
            <div class="formGroup">
              <label for="currentPassword">현재 비밀번호</label>
              <div class="inputGroup">
                <input
                  type="password"
                  id="currentPassword"
                  name="currentPassword"
                  placeholder="현재 비밀번호 입력"
                  required
                />
                <!-- 눈 모양 아이콘 -->
                <button type="button" class="togglePassword">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </div>

            <div class="formGroup">
              <label for="newPassword">새 비밀번호</label>
              <div class="inputGroup">
                <input
                  type="password"
                  id="newPassword"
                  name="newPassword"
                  placeholder="새 비밀번호 입력"
                  required
                />
                <!-- 눈 모양 아이콘 -->
                <button type="button" class="togglePassword">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </div>

            <div class="formGroup">
              <label for="confirmPassword">비밀번호 확인</label>
              <div class="inputGroup">
                <input
                  type="password"
                  id="confirmPassword"
                  name="confirmPassword"
                  placeholder="새 비밀번호 다시 입력"
                  required
                />
                <!-- 눈 모양 아이콘 -->
                <button type="button" class="togglePassword">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </div>

            <!-- ✅ 비밀번호 변경 버튼 -->
            <button type="submit" class="btnSubmit">변경하기</button>
          </form>
        </main>
      </div>
    </div>

    <!-- ✅ 공통 FOOTER -->
    <th:block th:replace="~{/fragments/footer :: common-footer}" />

    <!-- ✅ 공통 스크립트 -->
    <th:block th:replace="~{/fragments/scripts :: common-scripts}" />

    <!-- ✅ 비밀번호 변경 전용 스크립트 -->
    <script src="/assets/js/mypage/change_password.js"></script>
  </body>
</html>
